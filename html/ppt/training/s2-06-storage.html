<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>智算培训 - 6. 存储技术概述</title>
<link rel="stylesheet" href="css/main.css">
</head>
<body>
<div class="slide-container tmpl-content chapter-2">
  <div class="slide-main">
    <div class="section-title">6. 存储技术概述</div>
    <div class="content-grid cols-3" style="grid-template-rows: auto 1fr; flex:1;">
      <div class="card span-3">
        <div class="card-title">智算集群存储层次架构</div>
        <div style="display:flex;align-items:center;gap:var(--pad-sm);font-size:var(--fs-small);flex-wrap:wrap;">
          <div class="highlight-box highlight-purple" style="flex:1;text-align:center;">
            <strong>L1 · GPU 显存 (HBM)</strong><br>141GB/GPU · 4.8TB/s
          </div>
          <span style="color:var(--text-light);">→</span>
          <div class="highlight-box highlight-purple" style="flex:1;text-align:center;">
            <strong>L2 · 本地 NVMe SSD</strong><br>4×7.68TB NVMe · ~27GB/s
          </div>
          <span style="color:var(--text-light);">→</span>
          <div class="highlight-box highlight-green" style="flex:1;text-align:center;">
            <strong>L3 · 并行文件系统</strong><br>PB 级 · 聚合吞吐见下表
          </div>
          <span style="color:var(--text-light);">→</span>
          <div class="highlight-box highlight-green" style="flex:1;text-align:center;">
            <strong>L4 · 对象/归档存储</strong><br>EB 级 · 冷数据长期保存
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-title">并行文件系统</div>
        <table class="data-table">
          <tr><th>方案</th><th>特点</th></tr>
          <tr><td><strong>Lustre</strong></td><td>HPC 主流，MDS+OSS 架构</td></tr>
          <tr><td><strong>GPFS/Spectrum Scale</strong></td><td>IBM 企业级，强一致性</td></tr>
          <tr><td><strong>BeeGFS</strong></td><td>轻量灵活，部署简单</td></tr>
          <tr><td><strong>WekaFS</strong></td><td>全闪优化，极高 IOPS</td></tr>
        </table>
      </div>
      <div class="card">
        <div class="card-title">存储网络方案</div>
        <ul class="compact-list">
          <li><strong>IB (IPoIB/SRP)</strong> — 共享计算网，低延迟</li>
          <li><strong>独立存储网</strong> — HDR 200G 专用 IB 网络</li>
          <li><strong>NVMe-oF/RDMA</strong> — 远程 NVMe 全闪阵列</li>
          <li><strong>GPUDirect Storage</strong> — GPU 直接读写存储</li>
        </ul>
      </div>
      <div class="card">
        <div class="card-title">存储服务器数量快速估算</div>
        <div style="font-size:var(--fs-small);margin-bottom:var(--pad-xs);">
          <strong>公式：</strong>服务器数 = 算力(P) × 1.3 ÷ 可用率 ÷ 单台容量
        </div>
        <table class="data-table">
          <tr><th>步骤</th><th>计算</th><th>结果</th></tr>
          <tr><td>集群算力</td><td>128 台 × 8 GPU (H200)</td><td>1,024 PFLOPS</td></tr>
          <tr><td>裸容量需求</td><td>1,024 × 1.3 ÷ 0.7</td><td>~1,902 TB</td></tr>
          <tr><td>单台 OSS 容量</td><td>24 × 7.68TB NVMe</td><td>184.32 TB</td></tr>
          <tr><td>所需 OSS 数</td><td>1,902 ÷ 184.32</td><td><strong>~10 台</strong></td></tr>
          <tr><td>MDS 元数据服务器</td><td>主备 HA</td><td><strong>2 台</strong></td></tr>
          <tr style="background:var(--accent-2-bg);"><td><strong>存储服务器合计</strong></td><td>10 OSS + 2 MDS</td><td><strong>12 台</strong></td></tr>
        </table>
        <div class="highlight-box highlight-purple" style="margin-top:var(--pad-xs);font-size:var(--fs-tiny);">
          经验系数 1.3 = 数据集 + Checkpoint + Scratch 综合比例；详细推导见下页
        </div>
      </div>
      <div class="card">
        <div class="card-title">L3 聚合带宽推导</div>
        <table class="data-table">
          <tr><th>维度</th><th>计算</th><th>结果</th></tr>
          <tr><td>存储侧理论</td><td>10 台 OSS × 24 NVMe × ~3GB/s</td><td>~720 GB/s</td></tr>
          <tr><td>有效吞吐 ×70%</td><td>720 × 0.7</td><td><strong>~500 GB/s</strong></td></tr>
          <tr><td colspan="3" style="background:var(--bg-main);font-weight:700;padding-top:var(--pad-xs);">网络侧（按端口数配置）</td></tr>
          <tr><td>2 端口/台</td><td>10 × 2 × HDR 25GB/s</td><td>500 GB/s ✔</td></tr>
          <tr><td>4 端口/台</td><td>10 × 4 × HDR 25GB/s</td><td>1,000 GB/s ✔</td></tr>
        </table>
        <div class="highlight-box highlight-green" style="margin-top:var(--pad-xs);font-size:var(--fs-tiny);">
          2 端口刚好匹配存储有效吞吐；4 端口可为未来扩容或突发 I/O 留余量
        </div>
      </div>
    </div>
  </div>
</div>
<script>
const NAV = { prev: 's2-05-ib-network-2.html', next: 's2-06-storage-2.html', section: 2, topic: '6. 存储技术概述', pageNum: 12, totalPages: 35 };
</script>
<script src="js/nav.js"></script>
</body>
</html>
