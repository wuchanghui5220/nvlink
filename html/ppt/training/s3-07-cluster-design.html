<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>智算培训 - 7. 智算集群的设计</title>
<link rel="stylesheet" href="css/main.css">
</head>
<body>
<div class="slide-container tmpl-content chapter-3">
  <div class="slide-main">
    <div class="section-title">7. 智算集群的设计</div>
    <div class="content-grid cols-2" style="flex:1;">
      <div class="card">
        <div class="card-title">设计流程</div>
        <ol class="steps">
          <li><strong>需求分析</strong> — 模型规模、训练/推理比例、并发作业数</li>
          <li><strong>算力规划</strong> — GPU 型号选型、节点数量计算</li>
          <li><strong>网络拓扑</strong> — Spine-Leaf / Fat-Tree 选择</li>
          <li><strong>存储设计</strong> — 数据集大小、Checkpoint 频率、吞吐需求</li>
          <li><strong>冗余设计</strong> — N+1 电源、双路 SM、热备交换机</li>
          <li><strong>散热规划</strong> — 液冷 vs 风冷、PUE 目标</li>
        </ol>
      </div>
      <div class="card">
        <div class="card-title">典型集群规模参考（H200 8 卡/节点）</div>
        <table class="data-table">
          <tr><th>节点数</th><th>GPU 数</th><th>算力 (BF16)</th><th>网络拓扑</th><th>存储 (裸容量)</th><th>存储服务器</th></tr>
          <tr><td>128 台</td><td>1,024</td><td>~1,024 P</td><td>2 层 Fat-Tree</td><td>~1.9 PB</td><td>10 OSS + 2 MDS</td></tr>
          <tr><td>256 台</td><td>2,048</td><td>~2,048 P</td><td>2 层 Fat-Tree</td><td>~3.8 PB</td><td>20 OSS + 2 MDS</td></tr>
          <tr><td>512 台</td><td>4,096</td><td>~4,096 P</td><td>3 层 Fat-Tree</td><td>~7.6 PB</td><td>40 OSS + 4 MDS</td></tr>
          <tr><td>1,024 台</td><td>8,192</td><td>~8,192 P</td><td>3 层 Fat-Tree</td><td>~15 PB</td><td>80 OSS + 4 MDS</td></tr>
        </table>
        <div class="highlight-box highlight-green" style="margin-top:var(--pad-xs);font-size:var(--fs-tiny);">
          存储按经验公式推算：算力(P) × 1.3 ÷ 0.7 ≈ 裸容量(TB)；512 台以上建议 3 层 Fat-Tree + 分级存储
        </div>
      </div>
      <div class="card">
        <div class="card-title">双网分离架构</div>
        <table class="data-table">
          <tr><th>网络平面</th><th>技术</th><th>用途</th></tr>
          <tr><td><strong>计算网</strong></td><td>IB NDR 400G</td><td>GPU 集合通信 (NCCL)</td></tr>
          <tr><td><strong>存储网</strong></td><td>IB HDR/NDR200 200G / Ethernet</td><td>并行文件系统 I/O</td></tr>
          <tr><td><strong>管理网</strong></td><td>1G/10GbE</td><td>SSH / BMC / 监控</td></tr>
          <tr><td><strong>业务网</strong></td><td>25G/100GbE</td><td>模型服务/API 对外</td></tr>
        </table>
      </div>
      <div class="card">
        <div class="card-title">关键设计约束</div>
        <ul class="compact-list">
          <li><strong>功耗密度</strong> — 单柜 50-100kW，需液冷散热</li>
          <li><strong>带宽收敛比</strong> — 训练集群建议 1:1 无阻塞</li>
          <li><strong>故障域隔离</strong> — Leaf 故障仅影响下挂节点</li>
          <li><strong>线缆管理</strong> — 千级端口，需严格标签与走线规划</li>
          <li><strong>扩展能力</strong> — 预留 Spine 端口用于未来扩容</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<script>
const NAV = { prev: 's3-divider.html', next: 's3-07-cluster-design-2.html', section: 3, topic: '7. 智算集群的设计', pageNum: 15, totalPages: 35 };
</script>
<script src="js/nav.js"></script>
</body>
</html>
