<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•ç”¨æ¡å½¢ç ç”Ÿæˆå™¨</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsbarcode/3.11.5/JsBarcode.all.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.2em;
        }
        
        .barcode-section {
            margin-bottom: 40px;
            padding: 25px;
            border: 2px solid #f0f0f0;
            border-radius: 10px;
            background: #fafafa;
            transition: all 0.3s ease;
        }
        
        .barcode-section:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }
        
        .barcode-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #444;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .barcode-title::before {
            content: "ğŸ“±";
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .barcode-info {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #2196F3;
        }
        
        .barcode-canvas {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        svg {
            max-width: 100%;
            height: auto;
        }
        
        .data-info {
            font-family: monospace;
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            word-break: break-all;
        }
        
        .controls {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .input-group {
            margin: 15px 0;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        
        input[type="text"] {
            width: 100%;
            max-width: 400px;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .generate-section {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 2px dashed #667eea;
        }
        
        .note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” æµ‹è¯•ç”¨æ¡å½¢ç ç”Ÿæˆå™¨</h1>
        
        <div class="generate-section">
            <h2 style="text-align: center; color: #667eea; margin-bottom: 20px;">è‡ªå®šä¹‰ç”Ÿæˆæ¡å½¢ç </h2>
            
            <div class="input-group">
                <label for="customText">è¾“å…¥æ–‡æœ¬æˆ–æ•°å­—ï¼š</label>
                <input type="text" id="customText" placeholder="ä¾‹å¦‚ï¼š123456789 æˆ– Hello World" value="123456789">
            </div>
            
            <div class="input-group">
                <label for="barcodeType">é€‰æ‹©æ¡å½¢ç ç±»å‹ï¼š</label>
                <select id="barcodeType" style="width: 100%; max-width: 400px; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px;">
                    <option value="CODE128">CODE128 (é€šç”¨)</option>
                    <option value="CODE39">CODE39 (æ•°å­—+å­—æ¯)</option>
                    <option value="EAN13">EAN13 (å•†å“æ¡ç )</option>
                    <option value="EAN8">EAN8 (çŸ­å•†å“æ¡ç )</option>
                    <option value="UPC">UPC (ç¾å›½å•†å“æ¡ç )</option>
                    <option value="ITF14">ITF14 (ç‰©æµæ¡ç )</option>
                </select>
            </div>
            
            <div style="text-align: center;">
                <button onclick="generateCustomBarcode()">ğŸš€ ç”Ÿæˆæ¡å½¢ç </button>
                <button onclick="generateRandomSamples()">ğŸ² ç”Ÿæˆéšæœºç¤ºä¾‹</button>
            </div>
            
            <div id="customBarcodeContainer"></div>
        </div>

        <!-- é¢„è®¾çš„ç¤ºä¾‹æ¡å½¢ç  -->
        <div class="barcode-section">
            <div class="barcode-title">ğŸ“¦ å•†å“æ¡å½¢ç  (EAN-13)</div>
            <div class="barcode-info">
                <strong>ç”¨é€”ï¼š</strong>è¶…å¸‚å•†å“ã€é›¶å”®å•†å“æ ‡è¯†<br>
                <strong>ç‰¹ç‚¹ï¼š</strong>13ä½æ•°å­—ï¼Œå…¨çƒé€šç”¨æ ‡å‡†
            </div>
            <div class="barcode-canvas">
                <svg id="barcode1"></svg>
            </div>
            <div class="data-info">æ•°æ®ï¼š6901028089296</div>
        </div>

        <div class="barcode-section">
            <div class="barcode-title">ğŸ­ å·¥ä¸šæ¡å½¢ç  (CODE128)</div>
            <div class="barcode-info">
                <strong>ç”¨é€”ï¼š</strong>ä»“åº“ç®¡ç†ã€ç‰©æµè·Ÿè¸ª<br>
                <strong>ç‰¹ç‚¹ï¼š</strong>æ”¯æŒæ•°å­—ã€å­—æ¯å’Œç‰¹æ®Šå­—ç¬¦
            </div>
            <div class="barcode-canvas">
                <svg id="barcode2"></svg>
            </div>
            <div class="data-info">æ•°æ®ï¼šWH2024001</div>
        </div>

        <div class="barcode-section">
            <div class="barcode-title">ğŸ“š å›¾ä¹¦æ¡å½¢ç  (EAN-13)</div>
            <div class="barcode-info">
                <strong>ç”¨é€”ï¼š</strong>å›¾ä¹¦ã€æœŸåˆŠè¯†åˆ« (ISBN)<br>
                <strong>ç‰¹ç‚¹ï¼š</strong>å›½é™…æ ‡å‡†å›¾ä¹¦ç¼–å·
            </div>
            <div class="barcode-canvas">
                <svg id="barcode3"></svg>
            </div>
            <div class="data-info">æ•°æ®ï¼š9780134685991</div>
        </div>

        <div class="barcode-section">
            <div class="barcode-title">ğŸ« ç¥¨æ®æ¡å½¢ç  (CODE39)</div>
            <div class="barcode-info">
                <strong>ç”¨é€”ï¼š</strong>é—¨ç¥¨ã€ä¼šå‘˜å¡ã€èº«ä»½è¯†åˆ«<br>
                <strong>ç‰¹ç‚¹ï¼š</strong>æ”¯æŒå¤§å†™å­—æ¯å’Œæ•°å­—
            </div>
            <div class="barcode-canvas">
                <svg id="barcode4"></svg>
            </div>
            <div class="data-info">æ•°æ®ï¼šTICKET2024A</div>
        </div>

        <div class="barcode-section">
            <div class="barcode-title">ğŸ‡ºğŸ‡¸ UPC æ¡å½¢ç </div>
            <div class="barcode-info">
                <strong>ç”¨é€”ï¼š</strong>åŒ—ç¾åœ°åŒºå•†å“æ ‡è¯†<br>
                <strong>ç‰¹ç‚¹ï¼š</strong>12ä½æ•°å­—ï¼Œç¾å›½æ ‡å‡†
            </div>
            <div class="barcode-canvas">
                <svg id="barcode5"></svg>
            </div>
            <div class="data-info">æ•°æ®ï¼š123456789012</div>
        </div>

        <div class="note">
            <strong>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</strong>
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li>ä¿å­˜è¿™ä¸ªé¡µé¢æˆ–æˆªå›¾è¿™äº›æ¡å½¢ç ç”¨äºæµ‹è¯•</li>
                <li>æ¯ç§æ¡å½¢ç éƒ½æœ‰ä¸åŒçš„æ•°æ®æ ¼å¼è¦æ±‚</li>
                <li>å»ºè®®æµ‹è¯•å¤šç§ç±»å‹ä»¥ç¡®ä¿åº”ç”¨å…¼å®¹æ€§</li>
                <li>å¯ä»¥ç”¨æ‰‹æœºæ‰«æè¿™äº›æ¡å½¢ç éªŒè¯åŠŸèƒ½</li>
            </ul>
        </div>
    </div>

    <script>
        // ç”Ÿæˆé¢„è®¾çš„ç¤ºä¾‹æ¡å½¢ç 
        function generateSampleBarcodes() {
            try {
                // å•†å“æ¡å½¢ç  (EAN13) - ç¡®ä¿æœ‰æ•ˆçš„æ ¡éªŒä½
                JsBarcode("#barcode1", "6901028089296", {format: "EAN13", width: 2, height: 100, displayValue: true});
                
                // å·¥ä¸šæ¡å½¢ç  (CODE128) 
                JsBarcode("#barcode2", "WH2024001", {format: "CODE128", width: 2, height: 100, displayValue: true});
                
                // å›¾ä¹¦æ¡å½¢ç  (EAN13) - ä½¿ç”¨æœ‰æ•ˆçš„ISBN
                JsBarcode("#barcode3", "9780134685991", {format: "EAN13", width: 2, height: 100, displayValue: true});
                
                // ç¥¨æ®æ¡å½¢ç  (CODE39)
                JsBarcode("#barcode4", "TICKET2024A", {format: "CODE39", width: 2, height: 100, displayValue: true});
                
                // UPCæ¡å½¢ç  - ä½¿ç”¨æœ‰æ•ˆçš„12ä½æ•°å­—
                JsBarcode("#barcode5", "123456789012", {format: "UPC", width: 2, height: 100, displayValue: true});
                
            } catch (error) {
                console.error('ç”Ÿæˆé¢„è®¾æ¡å½¢ç æ—¶å‡ºé”™:', error);
                // å¦‚æœå‡ºé”™ï¼Œå°è¯•é€ä¸ªç”Ÿæˆä»¥æ‰¾å‡ºé—®é¢˜
                tryGenerateIndividually();
            }
        }

        // é€ä¸ªå°è¯•ç”Ÿæˆæ¡å½¢ç ï¼Œå¦‚æœæŸä¸ªå¤±è´¥å°±æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        function tryGenerateIndividually() {
            const barcodes = [
                {id: "#barcode1", data: "6901028089296", format: "EAN13", name: "å•†å“æ¡å½¢ç "},
                {id: "#barcode2", data: "WH2024001", format: "CODE128", name: "å·¥ä¸šæ¡å½¢ç "},
                {id: "#barcode3", data: "9780134685991", format: "EAN13", name: "å›¾ä¹¦æ¡å½¢ç "},
                {id: "#barcode4", data: "TICKET2024A", format: "CODE39", name: "ç¥¨æ®æ¡å½¢ç "},
                {id: "#barcode5", data: "123456789012", format: "UPC", name: "UPCæ¡å½¢ç "}
            ];

            barcodes.forEach(barcode => {
                try {
                    JsBarcode(barcode.id, barcode.data, {
                        format: barcode.format, 
                        width: 2, 
                        height: 100, 
                        displayValue: true
                    });
                } catch (error) {
                    console.error(`ç”Ÿæˆ${barcode.name}å¤±è´¥:`, error);
                    document.querySelector(barcode.id).innerHTML = `
                        <text x="50%" y="50%" text-anchor="middle" fill="red" font-size="14">
                            ${barcode.name}ç”Ÿæˆå¤±è´¥: ${error.message}
                        </text>
                    `;
                }
            });
        }

        // ç”Ÿæˆè‡ªå®šä¹‰æ¡å½¢ç 
        function generateCustomBarcode() {
            const text = document.getElementById('customText').value.trim();
            const type = document.getElementById('barcodeType').value;
            const container = document.getElementById('customBarcodeContainer');

            if (!text) {
                alert('è¯·è¾“å…¥è¦ç”Ÿæˆçš„æ–‡æœ¬æˆ–æ•°å­—');
                return;
            }

            try {
                container.innerHTML = `
                    <div class="barcode-section">
                        <div class="barcode-title">ğŸ¯ è‡ªå®šä¹‰æ¡å½¢ç  (${type})</div>
                        <div class="barcode-canvas">
                            <svg id="customBarcode"></svg>
                        </div>
                        <div class="data-info">æ•°æ®ï¼š${text}</div>
                    </div>
                `;

                const options = {
                    format: type,
                    width: 2,
                    height: 100,
                    displayValue: true
                };

                // æ ¹æ®ä¸åŒç±»å‹è°ƒæ•´å‚æ•°
                if (type === 'EAN13' || type === 'EAN8' || type === 'UPC') {
                    // è¿™äº›æ ¼å¼å¯¹æ•°å­—æœ‰ä¸¥æ ¼è¦æ±‚
                    if (!/^\d+$/.test(text)) {
                        throw new Error('è¯¥æ ¼å¼åªæ”¯æŒçº¯æ•°å­—');
                    }
                }

                JsBarcode("#customBarcode", text, options);
            } catch (error) {
                container.innerHTML = `
                    <div class="barcode-section" style="background: #ffe6e6; border-color: #ff9999;">
                        <div class="barcode-title" style="color: #cc0000;">âŒ ç”Ÿæˆå¤±è´¥</div>
                        <div class="barcode-info" style="background: #ffcccc; border-color: #ff6666;">
                            <strong>é”™è¯¯ä¿¡æ¯ï¼š</strong>${error.message}<br>
                            <strong>å»ºè®®ï¼š</strong>
                            <ul style="margin: 10px 0; padding-left: 20px;">
                                <li>EAN13 éœ€è¦13ä½æ•°å­—</li>
                                <li>EAN8 éœ€è¦8ä½æ•°å­—</li>
                                <li>UPC éœ€è¦12ä½æ•°å­—</li>
                                <li>CODE39 æ”¯æŒå¤§å†™å­—æ¯ã€æ•°å­—å’Œéƒ¨åˆ†ç¬¦å·</li>
                                <li>CODE128 æ”¯æŒæ‰€æœ‰ASCIIå­—ç¬¦</li>
                            </ul>
                        </div>
                    </div>
                `;
            }
        }

        // ç”Ÿæˆéšæœºç¤ºä¾‹
        function generateRandomSamples() {
            const samples = [
                {text: Math.floor(Math.random() * 1000000000000).toString().padStart(12, '0') + '5', type: 'EAN13', desc: 'éšæœºå•†å“ç '},
                {text: 'RAND' + Math.floor(Math.random() * 10000), type: 'CODE39', desc: 'éšæœºç¥¨æ®'},
                {text: 'LOT' + new Date().getTime().toString().slice(-8), type: 'CODE128', desc: 'éšæœºæ‰¹æ¬¡'},
                {text: Math.floor(Math.random() * 100000000).toString().padStart(8, '0'), type: 'EAN8', desc: 'éšæœºçŸ­ç '}
            ];

            const randomSample = samples[Math.floor(Math.random() * samples.length)];
            document.getElementById('customText').value = randomSample.text;
            document.getElementById('barcodeType').value = randomSample.type;
            generateCustomBarcode();
        }

        // é¡µé¢åŠ è½½å®Œæˆåç”Ÿæˆç¤ºä¾‹
        window.onload = function() {
            generateSampleBarcodes();
        };
    </script>
</body>
</html>
